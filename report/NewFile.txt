\documentclass[ twoside,openright,titlepage,numbers=noenddot,headinclude,%1headlines,% letterpaper a4paper
                footinclude=true,cleardoublepage=empty,abstractoff, % <--- obsolete, remove (todo)
                BCOR=5mm,paper=a4,fontsize=11pt,%11pt,a4paper,%
                ngerman,american,%
                ]{scrreprt}


%load fonts und useful packages. etc.
\input{config}
\begin{document}
\frenchspacing
\raggedbottom
\selectlanguage{american} % american ngerman
%\renewcommand*{\bibname}{new name}
%\setbibpreamble{}
\pagenumbering{roman}
\pagestyle{plain}
%create titelpage
\include{FrontBackmatter/Titlepage}
%\include{FrontBackmatter/Contents}
\pagestyle{scrheadings}


\pagenumbering{arabic}

\chapter{Motivation and Implementation}
\section{Introduction}
In this project we are going to find the optimal path for a solar powered airplane \footnote{Like the one from \url{http://www.solarimpulse.com/}}. During flight the plane's electrical engines drain power from it's battery, while at the same time solar panels on the plane's wings convert energy from the sun's rays into electric energy. However clouds may block the sun's rays from reaching the panels. In addition the suns intensity increases when flying closer to the earth's equator. In order to keep as much energy in the planes batteries as possible the flight path has to be optimized.

\section{Problem formulation and Analysis}
In the optimization process we use randomly generated weather data and sun data corresponding to a flight between $48^\circ$ and $50^\circ$ latitude. We generate the weather data by cubicly interpolating a random matrix of size \texttt{n} over a grid. The larger n becomes the more complex the weather will be. This functionality is implemented in \texttt{Static\_Weather.m} \textbf{repo is still private...}\footnote{All matlab code can be found on \url{https://github.com/double2double/OptimisationProject/} in the MATLAB folder.} The class returns a weather data matrix $W$.
Data for the sun comes from a couple of established equations that relate the local time and position to the sun's intensity  which happens in \texttt{sun.m}. The class returns a sun data Matrix $S$. We define low values in the weather Data Matrix as cloudy and high values as sunny weather. As clouds reduce the electric yield of our plane's solar cells we define the overall intensity as:
\begin{equation}
$I$ \:= \: $W$ .* $S$
\end{equation}
While following a convention where $.*$ denotes element wise multiplication we end up with an intensity matrix $I$, which contains sun intensity data weighted according to the random weather.

Next we took a closer look at the airplane. Here we consider the degree to which the plane can recharge its battery during flight, which is the path integral over the intensity data:
\begin{equation}
\oint_{path}
\end{equation} 


\section{Optimisation Algorithm description}

\chapter{Results}
\begin{figure}
\input{images/path1.tex}
\input{images/path2.tex}
\caption{Optimized flight paths from the coordinates 0.1,0.5 to 0.9,0.5, with different weather data.}
\end{figure}





\section{Time varying Air plane}

In the previous section we performed an elaborate explanation of the a first model of the air plane.
This model did not include time  and it was assumed that the air plane flew with a constant speed.
This however is not realistic, we want to stay longer in sunny regions and fly fast trough cloudy ones.
To compensate for this need it is a good idea to include the time as an input parameter as well.
This new freedom will introduce a new dimension and thus make the optimisation problem more complex.

\subsection{Formulation of the problem}

Lets start by reformulating the optimisation problem in a formal way.

\begin{align}
       \min_{x,y,t }( -\text{Energy}(x,y,t)) & \hspace{5mm}  \text{s. t. } \\
		& x \in [0,1]^m\\
		& y \in [0,1]^m\\
		& [x[0],y[0]] = [x_0,y_0] \\
		& [x[m],y[m]] = [x_m,y_m] \\
		& t_0 = 0\\
		& t(i) \leq t(i+1)| \forall i \in \left\{1,2 \dots m\right\}
\end{align}
The conditions for the spacial coordinates have stayed the same, the plane has to stay in a curtain region.
By introducing time dependency we have to make sure that the time is increasing throughout the flight, without this constrain the solution would be nonsense.

Lets now look at how the introduction of time changes the Energy function, we are still taking in to account the same quantities as in the previous model; the positive acceleration energy, the air resistance and the solar gain.
The only  thing that really changed is the way the speed of the air plane is defined.
In the previous model we assumed that each step taken by the plane took an equal time step regardless of the length of this step, this has changed in the time varying model, the time step is now a parameter that could be chosen optimal.
In a more mathematical formulation wo took the speed to be defined as
\begin{equation}
v[i] = \dfrac{l[i+1]-v[i]}{l[i+1]-t[i]},
\end{equation}
in this formulation is $ l $ the step path length 






\end{document}
